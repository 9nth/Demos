<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet' />
  <style>
      #map {
        margin: 20px;
      }

      #cadronaMarker {
        background-image: url('img/cadrona.jpg');
        background-size: cover;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
      }

      .mapboxgl-popup {
      max-width: 200px;
    }




  </style>
</head>
<body>

<div id='map' style='width: 800px; height: 600px;'></div>
<button id="whakapapa">Whakapapa Ski Field</button>
<button id="remarkables">The Remarkables Ski Field</button>
<button id="cadrona">Cadrona Ski Field</button>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiOW50aCIsImEiOiJja3A1eHMzdXMwZG9zMm9ud3p3MGt1NTZqIn0.cDeS2l13wdnMmMVGlDXJiw';

// Starting Point
var map = new mapboxgl.Map({
    container: 'map',
    zoom: 13.1,
    center: [175.5567678812624, -39.236285770152996],
    pitch: 85,
    bearing: 80,
    style: 'mapbox://styles/mapbox/light-v10'
  });
// 3D View Code
// map.on('load', function () {
//   map.addSource('mapbox-dem', {
//   'type': 'raster-dem',
//   'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',
//   'tileSize': 512,
//   'maxzoom': 14
// });
// // add the DEM source as a terrain layer with exaggerated height
// map.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });
//
// // add a sky layer that will show when the map is highly pitched
// map.addLayer({
//       'id': 'sky',
//       'type': 'sky',
//       'paint': {
//       'sky-type': 'atmosphere',
//       'sky-atmosphere-sun': [0.0, 0.0],
//       'sky-atmosphere-sun-intensity': 15
//     }
//   });
// });
// 3D View ENDS
// GeoJson Object Ends
// Flying to Whakapapa Ski Field
document.getElementById('whakapapa').addEventListener('click', function () {
    map.flyTo({
      type: 'Sky',
    center: [175.5567678812624, -39.236285770152996],
    essential: true, // this animation is considered essential with respect to prefers-reduced-motion
    zoom: 14
  });
});
// Fly To The Remarkables!
document.getElementById('remarkables').addEventListener('click', function () {
    map.flyTo({
      type: 'Sky',
    center: [168.81429336994978, -45.053902734913756],
    essential: true, // this animation is considered essential with respect to prefers-reduced-motion
    zoom: 14
  });
});
// Fly To Cadrona
document.getElementById('cadrona').addEventListener('click', function () {
    map.flyTo({
      type: 'Sky',
    center: [168.98186458837864, -44.86714802509786],
    essential: true, // this animation is considered essential with respect to prefers-reduced-motion
    zoom: 14
  });
});
// Flying Buttons Ends
// Pop Ups
// Cadrona Pop Up
var cadrona = [168.98186458837864, -44.86714802509786];
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/light-v10',
center: cadrona,
zoom: 15
});

// create the popup
var cadronaPopup = new mapboxgl.Popup({ offset: 25 }).setText(
'Cadrona Ski Field is cold!'
);

// create DOM element for the marker
var el = document.createElement('div');
el.id = 'cadronaMarker';

// create the marker
new mapboxgl.Marker(el)
.setLngLat(cadrona)
.setPopup(cadronaPopup) // sets a popup on this marker
.addTo(map);
// Pop Ups Ends


</script>
</body>
</html>
